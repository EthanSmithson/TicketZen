{% extends 'base.html' %}
{% load static %}
{% block content %}
<head>
    <!-- <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous"> -->
    <script src="https://code.jquery.com/jquery-3.4.1.js" integrity="sha256-WpOohJOqMqqyKL9FccASB9O0KwACQJpFTUBLTYOVvVU=" crossorigin="anonymous"></script>
    <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js" integrity="sha256-T0Vest3yCU7pafRw9r+settMBX6JkKN06dqBnpQ8d30=" crossorigin="anonymous"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css"/>
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Manrope:wght@200..800&display=swap" rel="stylesheet">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Archivo:ital,wght@0,100..900;1,100..900&display=swap" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
</head>
<div id="buffer" class="buffer buffer-hide"></div>
<div id="profile-buffer" class="profile-buffer profile-buffer-hide"></div>
<header style="align-items: center;
border-bottom: .2px solid #b5b5b5;
width: 100%;
margin-left: 0vw;">
    <a style="display: flex; flex-direction: row; text-decoration: none; align-items: center; margin-left: -1vw;" href="{% url 'home' %}?uid={{form.id}}" style="display: block; cursor: pointer;">
        <div class="logo-container-home">
            <svg class="logoHome" width="149" height="119" viewBox="0 0 149 119" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M70 57.5L10.75 104.698L10.75 10.3016L70 57.5Z" fill="#DD9F9F"/>
            <path d="M11 9L148.339 67.4259L101.503 80.9344L11 9Z" fill="#CB4C45"/>
            <path d="M11.5 106L71 58.5L100 81.5L11.5 106Z" fill="#EB7A7A"/>
            </svg>
        </div>
        <div id="app-title" class="whiteTitleHome">
            <p>TicketZen</p>
        </div>
    </a>
    <!-- <nav>
        <ul>
            <li><a>Home</a></li>
            <li><a>Tickets</a></li>
            <li><a>Favorites</a></li>
        </ul>
    </nav> -->
    <div class="greeting">
        <p>Hello {{form.firstName}}</p>
    </div>
    <div class="header-search">
        <input type="text" placeholder="Find Tickets">
        <!-- <button></button> -->
    </div>
    <div class="profile">
        <div style="z-index: 999;" id="profile-container" class="profile-container">
            <div class="profile-img">
    
            </div>
        </div>
        <div style="z-index: -1;" id="profile-options" class="profile-options-hide">
            <ul class="profile-list">
                <li><p>Profile</p> <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-person-fill" viewBox="0 0 16 16">
                    <path d="M3 14s-1 0-1-1 1-4 6-4 6 3 6 4-1 1-1 1zm5-6a3 3 0 1 0 0-6 3 3 0 0 0 0 6"/>
                  </svg></li>
                <li><p>Settings</p> <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-gear-fill" viewBox="0 0 16 16">
                    <path d="M9.405 1.05c-.413-1.4-2.397-1.4-2.81 0l-.1.34a1.464 1.464 0 0 1-2.105.872l-.31-.17c-1.283-.698-2.686.705-1.987 1.987l.169.311c.446.82.023 1.841-.872 2.105l-.34.1c-1.4.413-1.4 2.397 0 2.81l.34.1a1.464 1.464 0 0 1 .872 2.105l-.17.31c-.698 1.283.705 2.686 1.987 1.987l.311-.169a1.464 1.464 0 0 1 2.105.872l.1.34c.413 1.4 2.397 1.4 2.81 0l.1-.34a1.464 1.464 0 0 1 2.105-.872l.31.17c1.283.698 2.686-.705 1.987-1.987l-.169-.311a1.464 1.464 0 0 1 .872-2.105l.34-.1c1.4-.413 1.4-2.397 0-2.81l-.34-.1a1.464 1.464 0 0 1-.872-2.105l.17-.31c.698-1.283-.705-2.686-1.987-1.987l-.311.169a1.464 1.464 0 0 1-2.105-.872zM8 10.93a2.929 2.929 0 1 1 0-5.86 2.929 2.929 0 0 1 0 5.858z"/>
                  </svg></li>
                <li><a href="{% url 'index' %}"><p>Logout</p></a> <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-arrow-bar-right" viewBox="0 0 16 16">
                    <path fill-rule="evenodd" d="M6 8a.5.5 0 0 0 .5.5h5.793l-2.147 2.146a.5.5 0 0 0 .708.708l3-3a.5.5 0 0 0 0-.708l-3-3a.5.5 0 0 0-.708.708L12.293 7.5H6.5A.5.5 0 0 0 6 8m-2.5 7a.5.5 0 0 1-.5-.5v-13a.5.5 0 0 1 1 0v13a.5.5 0 0 1-.5.5"/>
                  </svg></li>
            </ul>
        </div>
    </div>
    
    <!-- <div class="logout-register">
        <div id="logout" class="logout login-register-active">
            <a style="text-decoration: none; color: white;" href="{% url 'login' %}"><p>Logout</p></a>
        </div>
    </div> -->
</header>
<div style="width: 100%; height: 100vh; display: flex; flex-direction: row; align-items: center; justify-content: space-between;">
    <div id="left-sidebar" class="left-sidebar">
        <div class="left-sidebar-header">
            <p id="mySpace">My Space</p>
              <svg style="transition: all .3s;" id="collapse-leftsidebar" xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-arrow-left-square-fill" viewBox="0 0 16 16">
                <path d="M16 14a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V2a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2zm-4.5-6.5H5.707l2.147-2.146a.5.5 0 1 0-.708-.708l-3 3a.5.5 0 0 0 0 .708l3 3a.5.5 0 0 0 .708-.708L5.707 8.5H11.5a.5.5 0 0 0 0-1"/>
              </svg>
        </div>
        <!-- <div class="left-sidebar-search">
            <input type="text" placeholder="Find Tickets">
        </div> -->
        <div class="left-sidebar-content">
            <ul id="content-list">
                <li>
                    <a href="{% url 'home' %}?uid={{form.id}}">
                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-house" viewBox="0 0 16 16">
                        <path d="M8.707 1.5a1 1 0 0 0-1.414 0L.646 8.146a.5.5 0 0 0 .708.708L2 8.207V13.5A1.5 1.5 0 0 0 3.5 15h9a1.5 1.5 0 0 0 1.5-1.5V8.207l.646.647a.5.5 0 0 0 .708-.708L13 5.793V2.5a.5.5 0 0 0-.5-.5h-1a.5.5 0 0 0-.5.5v1.293zM13 7.207V13.5a.5.5 0 0 1-.5.5h-9a.5.5 0 0 1-.5-.5V7.207l5-5z"/>
                      </svg>
                    </a>
                    <a href="{% url 'home' %}?uid={{form.id}}"><p>Home</p></a>
                </li>
                <li>
                    <a href="{% url 'tickets' %}?uid={{form.id}}"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-search" viewBox="0 0 16 16">
                    <path d="M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001q.044.06.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1 1 0 0 0-.115-.1zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0"/>
                  </svg>
                </a>
                   <a href="{% url 'tickets' %}?uid={{form.id}}"><p>Find Tickets</p></a></li>
                <li><a href="{% url 'myTickets' %}?uid={{form.id}}"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-ticket" viewBox="0 0 16 16">
                    <path d="M0 4.5A1.5 1.5 0 0 1 1.5 3h13A1.5 1.5 0 0 1 16 4.5V6a.5.5 0 0 1-.5.5 1.5 1.5 0 0 0 0 3 .5.5 0 0 1 .5.5v1.5a1.5 1.5 0 0 1-1.5 1.5h-13A1.5 1.5 0 0 1 0 11.5V10a.5.5 0 0 1 .5-.5 1.5 1.5 0 1 0 0-3A.5.5 0 0 1 0 6zM1.5 4a.5.5 0 0 0-.5.5v1.05a2.5 2.5 0 0 1 0 4.9v1.05a.5.5 0 0 0 .5.5h13a.5.5 0 0 0 .5-.5v-1.05a2.5 2.5 0 0 1 0-4.9V4.5a.5.5 0 0 0-.5-.5z"/>
                  </svg></a> <a href="{% url 'myTickets' %}?uid={{form.id}}"><p>My Tickets</p></a></li>
                <li><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-gear-fill" viewBox="0 0 16 16">
                    <path d="M9.405 1.05c-.413-1.4-2.397-1.4-2.81 0l-.1.34a1.464 1.464 0 0 1-2.105.872l-.31-.17c-1.283-.698-2.686.705-1.987 1.987l.169.311c.446.82.023 1.841-.872 2.105l-.34.1c-1.4.413-1.4 2.397 0 2.81l.34.1a1.464 1.464 0 0 1 .872 2.105l-.17.31c-.698 1.283.705 2.686 1.987 1.987l.311-.169a1.464 1.464 0 0 1 2.105.872l.1.34c.413 1.4 2.397 1.4 2.81 0l.1-.34a1.464 1.464 0 0 1 2.105-.872l.31.17c1.283.698 2.686-.705 1.987-1.987l-.169-.311a1.464 1.464 0 0 1 .872-2.105l.34-.1c1.4-.413 1.4-2.397 0-2.81l-.34-.1a1.464 1.464 0 0 1-.872-2.105l.17-.31c.698-1.283-.705-2.686-1.987-1.987l-.311.169a1.464 1.464 0 0 1-2.105-.872zM8 10.93a2.929 2.929 0 1 1 0-5.86 2.929 2.929 0 0 1 0 5.858z"/>
                  </svg> <p>Settings</p></li>
            </ul>
        </div>
    </div>
    <div class="main-section">
        {% block mainContent %}
            <div class="my-recents">
                <div class="my-recents-header">
                    My Recents
                </div>
                <div class="my-recents-content">
                    <div class="swiper">
                        <!-- Additional required wrapper -->
                        <div class="swiper-wrapper">
                          <!-- Slides -->
                          <div style="text-align: center;
                          font-size: 18px;
                          display: flex;
                          justify-content: center;
                          align-items: center;" class="swiper-slide">Slide 1</div>
                          <div style="text-align: center;
                          font-size: 18px;
                          display: flex;
                          justify-content: center;
                          align-items: center;"  class="swiper-slide">Slide 2</div>
                          <div style="text-align: center;
                          font-size: 18px;
                          display: flex;
                          justify-content: center;
                          align-items: center;"  class="swiper-slide">Slide 3</div>
                          ...
                        </div>
                        <!-- If we need pagination -->
                        <div class="swiper-pagination"></div>
                      
                        <!-- If we need navigation buttons -->
                        <div style="color: #ffb282;" class="swiper-button-prev"></div>
                        <div style="color: #ffb282;" class="swiper-button-next"></div>
                      
                        <!-- If we need scrollbar -->
                        <!-- <div class="swiper-scrollbar"></div> -->
                      </div>
                </div>
            </div>
            <div class="explore-tickets">
                <div class="explore-tickets-header">
                    Explore
                </div>
                <div class="explore-tickets-content">
                    <div class="swiper">
                        <!-- Additional required wrapper -->
                        <div class="swiper-wrapper">
                          <!-- Slides -->
                          <div style="text-align: center;
                          font-size: 18px;
                          display: flex;
                          justify-content: center;
                          align-items: center;" class="swiper-slide">Slide 1</div>
                          <div style="text-align: center;
                          font-size: 18px;
                          display: flex;
                          justify-content: center;
                          align-items: center;"  class="swiper-slide">Slide 2</div>
                          <div style="text-align: center;
                          font-size: 18px;
                          display: flex;
                          justify-content: center;
                          align-items: center;"  class="swiper-slide">Slide 3</div>
                          ...
                        </div>
                        <!-- If we need pagination -->
                        <div class="swiper-pagination"></div>
                      
                        <!-- If we need navigation buttons -->
                        <div style="color: #ffb282;" class="swiper-button-prev"></div>
                        <div style="color: #ffb282;" class="swiper-button-next"></div>
                      
                        <!-- If we need scrollbar -->
                        <!-- <div class="swiper-scrollbar"></div> -->
                      </div>
                </div>
            </div>
        {% endblock %}
    </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js"></script>
  <script>
    const appTitle = document.getElementById('app-title');
    appTitle.style.color = "black"

    const profileBuffer = document.getElementById('profile-buffer');

    const profContainer = document.getElementById('profile-container');
    const profOptions = document.getElementById('profile-options');
    profContainer.addEventListener('click', function() {
        if (profOptions.classList.contains("profile-options-hide") && profileBuffer.classList.contains('profile-buffer-hide')) {
            profOptions.classList.remove('profile-options-hide');
            profOptions.classList.add('profile-options-show');
            profileBuffer.classList.remove('profile-buffer-hide');
        } else if (profOptions.classList.contains("profile-options-show")) {
            profOptions.classList.add('profile-options-hide');
            profOptions.classList.remove('profile-options-show');
            profileBuffer.classList.add('profile-buffer-hide');
        }
    })

    profileBuffer.addEventListener('click', function() {
        if(!profileBuffer.classList.contains('profile-buffer-hide')) {
            profileBuffer.classList.add('profile-buffer-hide');
            profOptions.classList.add('profile-options-hide');
            profOptions.classList.remove('profile-options-show');
        }
    })

    const body = document.body
    body.style.overflowY = "hidden"

    const collapse = document.getElementById('collapse-leftsidebar');
    const leftSidebar = document.getElementById('left-sidebar');
    const contentList = document.getElementById('content-list')
    const leftSidebarP = contentList.getElementsByTagName('p')
    const mySpace = document.getElementById('mySpace');

    collapse.addEventListener('click', function() {
        if (leftSidebar.classList.contains("left-sidebar-collapse")) {
            leftSidebar.classList.remove('left-sidebar-collapse');
            leftSidebar.classList.add('left-sidebar');
            mySpace.style.display = "block";
            for (let i =0; i < leftSidebarP.length; i++) {
                leftSidebarP[i].style.display = "block";
            }
            collapse.classList.remove('rotate-collapse'); 
        } else if (leftSidebar.classList.contains("left-sidebar")) {
            leftSidebar.classList.add('left-sidebar-collapse');
            leftSidebar.classList.remove('left-sidebar');
            console.log(leftSidebarP[0])
            mySpace.style.display = "none";
            for (let i =0; i < leftSidebarP.length; i++) {
                leftSidebarP[i].style.transition = "all 1s";
                leftSidebarP[i].style.display = "none";
            }
            collapse.classList.add('rotate-collapse'); 
        }
    })

    const swiper = new Swiper('.swiper', {
        // Optional parameters
        direction: 'horizontal',
        loop: true,

        // If we need pagination
        pagination: {
            el: '.swiper-pagination',
        },

        // Navigation arrows
        navigation: {
            nextEl: '.swiper-button-next',
            prevEl: '.swiper-button-prev',
        },

    });
  </script>

{% endblock %}